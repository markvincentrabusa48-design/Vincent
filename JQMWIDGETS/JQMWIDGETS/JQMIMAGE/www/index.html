<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Image Gallery - jQuery Mobile Demo</title>
    
    <!-- jQuery Mobile CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    
    <!-- jQuery and jQuery Mobile -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    
    <!-- Cordova/PhoneGap -->
    <script src="cordova.js"></script>
    

</head>
<body>
    <!-- Main Page -->
    <div data-role="page" id="main">
        
        <!-- Header -->
        <div data-role="header" data-theme="b">
            <h1 class="app-title">Image Gallery</h1>
        </div>
        
        <!-- Main Content -->
        <div role="main" class="ui-content">
            
            <!-- Welcome Section -->
            <div class="content-section">
                <h2>Welcome to Image Gallery</h2>
                <p>This demo showcases jQuery Mobile popup functionality with various content types including images, lists, and confirmation dialogs.</p>
            </div>
            
            <!-- Features Section -->
            <div class="content-section">
                <h3>Popup Features</h3>
                
                <!-- Image Gallery Button -->
                <a href="#imageGallery" data-rel="popup" 
                   data-position-to="window" 
                   data-transition="pop"
                   class="ui-btn ui-btn-b feature-btn">
                    <span class="ui-icon ui-icon-image ui-btn-icon-left"></span>
                    View Image Gallery
                </a>
                
                <!-- List Popup Button -->
                <a href="#listPopup" data-rel="popup"
                   data-position-to="window"
                   data-transition="pop"
                   class="ui-btn ui-btn-a feature-btn">
                    <span class="ui-icon ui-icon-bars ui-btn-icon-left"></span>
                    Options Menu
                </a>
                
                <!-- Settings Popup -->
                <a href="#settingsPopup" data-rel="popup"
                   data-position-to="window"
                   data-transition="pop"
                   class="ui-btn ui-btn-c feature-btn">
                    <span class="ui-icon ui-icon-gear ui-btn-icon-left"></span>
                    Settings
                </a>
            </div>
            
            <!-- Actions Section -->
            <div class="content-section">
                <h3>Actions</h3>
                
                <!-- Exit App Button -->
                <a href="#exitConfirmation" data-rel="popup"
                   data-position-to="window"
                   data-transition="pop"
                   class="ui-btn ui-btn-d ui-shadow feature-btn">
                    <span class="ui-icon ui-icon-power ui-btn-icon-left"></span>
                    Exit Application
                </a>
                
                <!-- Info Button -->
                <a href="#infoPopup" data-rel="popup"
                   data-position-to="window"
                   data-transition="pop"
                   class="ui-btn ui-btn-e feature-btn">
                    <span class="ui-icon ui-icon-info ui-btn-icon-left"></span>
                    App Information
                </a>
            </div>
        </div>
        
        <!-- Footer -->
        <div data-role="footer" data-position="fixed" data-theme="b">
            <div class="footer-text">
                <p>Mobile Application Development &copy; 2024</p>
                <p>Built with jQuery Mobile</p>
            </div>
        </div>
    </div>

    <!-- ===== POPUPS ===== -->
    
    <!-- Image Gallery Popup -->
    <div data-role="popup" id="imageGallery" data-overlay-theme="a" data-theme="a"
         data-corners="true" data-shadow="true" class="ui-content popup-content">
        <a href="#" data-rel="back" 
           class="ui-btn ui-btn-right ui-btn-icon-notext ui-icon-delete ui-btn-a">
            Close
        </a>
        <h3>Nature Gallery</h3>
        <p>Beautiful landscape photography showcasing nature's beauty.</p>
        
        <div class="ui-grid-a">
            <div class="ui-block-a">
                <img src="https://via.placeholder.com/300x200/4CAF50/FFFFFF?text=Mountain+View" 
                     alt="Mountain Landscape" class="popup-image">
                <p class="image-caption">Mountain Landscape</p>
            </div>
            <div class="ui-block-b">
                <img src="https://via.placeholder.com/300x200/2196F3/FFFFFF?text=Ocean+Sunset" 
                     alt="Ocean Sunset" class="popup-image">
                <p class="image-caption">Ocean Sunset</p>
            </div>
        </div>
        
        <p>Tap images to view full screen</p>
    </div>
    
    <!-- List Popup -->
    <div data-role="popup" id="listPopup" data-overlay-theme="a" data-theme="a"
         class="ui-content" style="min-width:250px;">
        <h3>Application Options</h3>
        <ul data-role="listview" data-inset="true">
            <li><a href="#"><span class="ui-icon ui-icon-user"></span>Profile Settings</a></li>
            <li><a href="#"><span class="ui-icon ui-icon-camera"></span>Camera Settings</a></li>
            <li><a href="#"><span class="ui-icon ui-icon-lock"></span>Privacy Settings</a></li>
            <li><a href="#"><span class="ui-icon ui-icon-bell"></span>Notification Settings</a></li>
            <li><a href="#"><span class="ui-icon ui-icon-gear"></span>Advanced Settings</a></li>
        </ul>
    </div>
    
    <!-- Settings Popup -->
    <div data-role="popup" id="settingsPopup" data-overlay-theme="a" data-theme="a"
         class="ui-content popup-content">
        <h3>Application Settings</h3>
        <div data-role="fieldcontain">
            <label for="theme-select">Theme:</label>
            <select name="theme-select" id="theme-select" data-role="slider">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>
        </div>
        <div data-role="fieldcontain">
            <label for="notifications">Enable Notifications:</label>
            <select name="notifications" id="notifications" data-role="slider">
                <option value="off">Off</option>
                <option value="on">On</option>
            </select>
        </div>
        <a href="#" data-rel="back" class="ui-btn ui-btn-a">Save Settings</a>
    </div>
    
    <!-- Exit Confirmation Popup -->
    <div data-role="popup" id="exitConfirmation" data-overlay-theme="a" data-theme="a"
         class="ui-content popup-content">
        <h3>Confirm Exit</h3>
        <p>Are you sure you want to close the application?</p>
        <p><small>Any unsaved changes will be lost.</small></p>
        
        <div class="ui-grid-a confirmation-buttons">
            <div class="ui-block-a">
                <a href="#" onclick="exitApplication()" 
                   class="ui-btn ui-btn-a" data-rel="back">
                    Yes, Exit
                </a>
            </div>
            <div class="ui-block-b">
                <a href="#" data-rel="back" 
                   class="ui-btn ui-btn-b">
                    Cancel
                </a>
            </div>
        </div>
    </div>
    
    <!-- Info Popup -->
    <div data-role="popup" id="infoPopup" data-overlay-theme="a" data-theme="a"
         class="ui-content popup-content">
        <h3>Application Information</h3>
        <p><strong>Version:</strong> 2.1.0</p>
        <p><strong>Built With:</strong> jQuery Mobile 1.4.5</p>
        <p><strong>Platform:</strong> Apache Cordova</p>
        <p><strong>Developer:</strong> Mobile App Development Team</p>
        <p>This application demonstrates modern mobile web development techniques using jQuery Mobile framework for responsive and touch-optimized interfaces.</p>
        <a href="#" data-rel="back" class="ui-btn ui-btn-a">Close</a>
    </div>

    <script>
        // Wait for device to be ready (Cordova/PhoneGap)
        document.addEventListener('deviceready', initializeApp, false);
        
        function initializeApp() {
            console.log('Application initialized');
            
            // Initialize any app-specific settings
            initializeSettings();
            
            // Bind popup events
            bindPopupEvents();
        }
        
        function initializeSettings() {
            // Load saved settings if any
            if (localStorage.getItem('appTheme')) {
                $('#theme-select').val(localStorage.getItem('appTheme')).slider('refresh');
            }
            
            if (localStorage.getItem('notifications')) {
                $('#notifications').val(localStorage.getItem('notifications')).slider('refresh');
            }
        }
        
        function bindPopupEvents() {
            // Save settings when settings popup closes
            $('#settingsPopup').on('popupafterclose', function() {
                const theme = $('#theme-select').val();
                const notifications = $('#notifications').val();
                
                localStorage.setItem('appTheme', theme);
                localStorage.setItem('notifications', notifications);
                
                showToast('Settings saved successfully');
            });
            
            // Handle image clicks in gallery
            $('.popup-image').on('click', function() {
                const src = $(this).attr('src');
                const alt = $(this).attr('alt');
                viewFullScreenImage(src, alt);
            });
        }
        
        function exitApplication() {
            if (confirm('Are you sure you want to exit?')) {
                if (navigator.app) {
                    navigator.app.exitApp();
                } else if (navigator.device) {
                    navigator.device.exitApp();
                } else {
                    window.close();
                }
            }
        }
        
        function viewFullScreenImage(src, alt) {
            // Create a new popup for full screen image
            const fullscreenPopup = $('<div>', {
                'data-role': 'popup',
                'id': 'fullscreenImage',
                'data-overlay-theme': 'a',
                'data-theme': 'a',
                'class': 'ui-content',
                'css': {
                    'padding': '0',
                    'background': '#000'
                }
            }).appendTo('body');
            
            const closeBtn = $('<a>', {
                'href': '#',
                'data-rel': 'back',
                'class': 'ui-btn ui-btn-right ui-btn-icon-notext ui-icon-delete',
                'css': {
                    'position': 'absolute',
                    'top': '10px',
                    'right': '10px',
                    'z-index': '1000'
                }
            }).appendTo(fullscreenPopup);
            
            const img = $('<img>', {
                'src': src,
                'alt': alt,
                'css': {
                    'width': '100%',
                    'height': 'auto',
                    'max-height': '100vh'
                }
            }).appendTo(fullscreenPopup);
            
            fullscreenPopup.popup().popup('open');
        }
        
        function showToast(message) {
            // Simple toast notification
            const toast = $('<div>', {
                'class': 'ui-loader',
                'html': '<h2>' + message + '</h2>',
                'css': {
                    'position': 'fixed',
                    'top': '50%',
                    'left': '50%',
                    'transform': 'translate(-50%, -50%)',
                    'background': 'rgba(0,0,0,0.7)',
                    'color': 'white',
                    'padding': '15px',
                    'border-radius': '5px',
                    'z-index': '9999'
                }
            }).appendTo('body');
            
            setTimeout(function() {
                toast.fadeOut(300, function() {
                    $(this).remove();
                });
            }, 2000);
        }
        
        // Initialize when DOM is ready
        $(document).on('mobileinit', function() {
            // jQuery Mobile initialization settings
            $.mobile.defaultPageTransition = 'slide';
            $.mobile.buttonMarkup.hoverDelay = 100;
        });
        
        $(document).ready(function() {
            // Additional initialization if needed
        });
    </script>
</body>
</html>